/*
*  戴尔活动
*  入口
     10豆多次 戴尔新活动 ￥46FYD8PpYMQv0k%/
*  说明：
*       1、一次性脚本，跑2次、10.13号活动结束
*       2、账号助力第一个CK,没有内置
*       3、脚本加密，没有开卡，有加购
* */
const $ = new Env('戴尔');
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
const notify = $.isNode() ? require('./sendNotify') : '';
let cookiesArr = [];
if ($.isNode()) {
    Object.keys(jdCookieNode).forEach((item) => {
        cookiesArr.push(jdCookieNode[item])
    })
    if (process.env.JD_DEBUG && process.env.JD_DEBUG === 'false') console.log = () => {};
} else {
    cookiesArr = [$.getdata('CookieJD'), $.getdata('CookieJD2'), ...jsonParse($.getdata('CookiesJD') || "[]").map(item => item.cookie)].filter(item => !!item);
}
var _0xod5='jsjiami.com.v6',_0x38ab=[_0xod5,'w4N0YcKW','w6fDkUjDhTfDjcKQwq9C','JRLDr8K7w5gdwoJzFCoOXQ==','w7LClWzCsk7CgmBqKQ==','BMOOwqgrw48=','wrvCkcOpS8Ov','woI3wrdkAg==','w6XDiVzDhzzDrcKhwrBOwqpg','6I2F5b2i776p56mr5rKr','HcO8EMOywr8DE8K4w7I=','fMKhwrtpHA==','PmPDiHp7EMO8','TsO0WcKUdcK8w6bDksO/','wobDh8OZ','w4TCmMOefDTCiw==','wpQSw6nDmw==','wqrCtnV/wq9mwpLCvcKXLMKIw73Cjw==','woYCwrMa','Kys/csOQecKJA2hmw6UIMMOuV8KaacKfPzvCtkdoGE3DvcOSwog1wqoXYsKnJsOkLsKXbjgsw5IZwrpawptqfmzDsnrDpgdXw6o6w67DhjfCpcOJFsO3BcKdUMOZPWrDhHvDgcOqw47Ds1vDvcOew6w4fsOuw7TDnAIfwoXCrR8Swp7Cllorc1lfwo5GfF5wf8OKwo/CucKrBjhuw5/CtsO1w783N8OCwrhlI188w5AOwrdHKUFJTsOMw57DqsOfwq/CthrCg8KsVHF9N8Ksw7TDlcOzVsODw6lgI3Y4w5/DssO+R8Kmwo3Dpg==','cChyeyDDqX3DgcKSbMKow5DDmMKK','wqozwoHChQTCsVHCiMOfwqE=','Ix/Dp8K5wpBuwoN4FgoATsORIsObWkc=','SsO2W8KXbsKcw6jDgsOzNnHDmjHCq0V6w6nDs8ODXAjDg8KVbBTDuMOIIcKTODE=','Q8OyX8KLdMOFwqbCmcO3KXvCj3bCsEV6wr3CpsOSGQ3Di8OIYBPCs8OXNsKZenxqwrbChcORVg==','bMKnW8OYMsKb','w6HDt1Y=','c8OswpI=','w77Cs8K2w7vDm8OkTTrCucOECcKRJQ==','BwM/W8OY','w6MmwrEpSMOpw4I=','TMOswrNC','JMKfVz/CjhvChQ==','NcKXwq0TLw==','A8O4BsOhw7wMFcKww6Rhw6fDoXggUhHDhsK0AR1Fw4kOeGtFccKe','ecOJw4pVYg==','dcKmwptLNBtMJsKZw50Fw44jwpfCi8O2','wpjChAp0Og==','K8KMwqc7Aw==','e8OpccKvcw==','wrrCpMOCF1U5w7RIwpUmBsKjYsK9Tlkqw51iw61hwpjCtsOaUFzDvCEWwpsREsKfFMO2DDQwO04iw7DCo8KZw4fDmUodADlQAW5ffcOTwoDDtMOZ','ZMKkfMKZO8OQfsK2W8OLJHc=','wpjClMKCDnZrwrQJwpF5XsK7OMKnHQ0kwpZkw5AmwpTCtMOWDhLDoUAkw5hUT8OeSMOyShI9OVYuwrDDvsO+wpPDlAo=','fMOAw4tLwpLCssK5w7ZCWRsHc1zDscOfFRnDhhsCbQkCQRrChsKRSzjChQrCrMKvw4oDw5DChMOGdQ4Zw5dqwqdTw6sXK8O+wpN+HcKIIlMoX2bDvXrCvsKBNyNDF8OvGB3Dhg==','w47Cg8O3Wy4=','IwcYUMO5','dcOjwr3Dgik=','w53ChcKcw5vDig==','PMOlGsOiwpU=','woEpw5nDkys=','wo7DocKYLsKP','eypRXRM=','w7FtfsO8woI=','wqIMw73Di8Ol','w4MRwohE','w7/CmcKfw5/Dnw==','w43DiF/DhgQ=','w5jChMKgw7rDkA==','HMO4ZQ==','w4fCg8Kbw4fDpsOGdgPCgQ==','w73Cg2DCpQ==','w43Cri976K6P5rC75aSQ6LWC77+O6KyY5qCF5p6j57y96La26YWg6K2h','w5/Co0xeTw==','PFwDw5ML','LMKXwr43A8K5V8O3AQ==','MsOqw6Y=','w60ewp9O6K6m5rKR5aeN6Le177+y6K6Z5qG75pyv57yw6LSJ6YeM6K+w','w6NEJRfDqQ==','TMOYwqLDohc=','JMOeRhfCqQ==','w7/CjWrChVjCvg==','O8KCwrg/','OsOTV34=','fMOmwoXDpjbClsKVw6wCwpEzYsOyCMKfw4zCrGTCnArCkE7CphbCrFjDllLDp8KZwrsEEwrCqcKIw6xow6fCvyEJwqrDv8OVwqfCjCbDicKiGD1sOsOfPBfDjygjIythwqfDgcKNw6kYPgrDtsKXUcKfU3/Dji5hwqzCicK2V0TCu8KpekHCpMONKsK0w4FLw7TConbDpsKxH8KhVTN2fwIawpBRw4rDpg3Cn1odWsOoZyQxwoN+Ni3DsMO4wq/CpMKwQ8O5wpzDh8K0wq0mCiw8DEA3A2B1PkU7PhVKw4x+w415w5jCnA3CizU=','w55EJRfDvQ==','QQnCtXTDjA==','wrXCrxMYw5sAw73DhMOgWcO2wpnDrA==','CsKNSALCmA==','BsORQGbDtg==','w6wCwo4vbA==','wp0Kw5zDjS3DiMOnwobCoTo9Og==','cMK3wp9G','w71EOgE=','44Gg5o2H56S444Cu6K2X5YW76I235Y+W5Lir5Lqy6LWs5Yya5LmRIzfDsXBhw6pw55uT5o685L2A55aIcsK0d2paw4bnmbLkupLkuL7nroHliKHojbjljoQ=','bcKgYcOHJcOEO8O9F8ONKnTDvcORw5dZwr9YwrzCkQ0CZMOwUn4NdcK7WcOLHcO7woUrEsKXJMK8CxNpwog=','BsO8FsOrwqJeVcOxw6lxw7TCojI3UhLDkcOsCBFEwokZeSRIMcKAw7zDk8KTwpcrw6MiXkAVQkopYsOb','w7bCgFxibw==','wpUSwoNPJcKnwozCgsKbH8OOwq8SwpI=','IlITw6Vkw5VEwrVDcw==','w7LCkn3CrEPCr2BzJRjDsTvDjxwZVcObHMKoJUJLwo7Dn8KZwpnDkcOVw5TDrcOU','d23Diw==','XMOGwrvDgxXDqMKuw6MrwrkYScKd','QsKRXQ==','wqzDg8KdDcKKw6sFwrrCvsKPw6QNRQ==','BcKpfsKoQsKtw5bDt8OdHFHCoQg=','KcOsSgPCucKCw6VJA0s=','cQNodh0=','w5PCjk5zfXkX','aMOcwp9lwr4=','wqkiwpDChVrDqhLDjsOEwrTDmi3Cu8OJw67Dl8OvTRjDoMOGw6lEYsOrTBLCiQRbwqrCk8OvbFgdwrJvUBnCncOlwrY=','wpQ3w4zDtcOK','bsOAwpNVZA==','w5jCmMKO','ScOQCXHDhUXlv6Tlpo/jgZXku6Dku7bot5blj70=','N8Orw6VrwoY=','w7TDiBvCuiID','wqnCiz5ZGQ==','wpgTwq4VWQ==','woI0wrZWNQ==','RhvCgknDvA==','w77Cn09Bdg==','w5t+wrg=','wq3mtK7lir3ltIXnuZPmn7I=','R8OpTA==','wozCmxTCim7CvsOMw78aw7Q4woFDN8KfHnwoBcKDw5tKdxXDv1Ig5b2m5aSh5YaS6YCw5Lqu5YmUwpzCvMKlT8OpO3FYYzPCv8KJZ8Obw6LDi17CvTdSwqETbMKdezAZPBUkwqlsZVAtwqXDicKLwrw=','P8O5cMKaCg==','w6rDg0fDkCfDqw==','w5pwwqs7wo4=','SMOnRcKzYsKTw7k=','w5jCjlRwaGU=','wp8dw7jDqSTDm8OxwpA=','wrzCvzxiFg==','KsKVfsOIwq7CmcO+ZA==','PEQTw6c=','asK6cMOkPsKfZsK3','a8KxcMOTAsKXecK3','w6lRcsKGw7E=','woTCpSJBw5ciGMKmwrTDqMKiMA==','wqwowq51NcKAwpnCvsKaIsOUwq0=','wr7Cv8OR','6I+L5byo77yV','w5IJwppCaMKDA8KHVVrDrcKD','P8Oyw6B8wppAw6dkw40=','EMOQaA==','wqApwoE=','wp3Cm8OWQsOXGmnCiA==','w5DDmcKRfMOWCGjChC3Cg8KGasOlwqp6QcOqwrjCiAvDmx9VL8KbKcODFMKKw7vCr8O2w6XCusOuccKbHwzDjD3DkUwUwqLDjMOGwprCjSdJwovDiETCmcK0e3HCn8O9VnsURzDCrcKJKWlnEcKFfHfDtAnDuQ==','YcOjwo3Dog==','wr3Cg0XDs2A=','wq05woM=','w5xT5aas6LafbcKa5Yyc5ZiVw5J0','dmzDk0c=','w5ZywqsxwpDDpMO1w5chakRrKg==','wrgnwo/Co2s=','wrDCtcOXCQ==','ecOHwqbDsQ8=','w5jChF0=','w6kTwppZaQ==','wp3CpcKjO8Ktw6czw4fDhcOowoM0dCokwq/DgcO6KsKLw4AAfTfCrVHDpGZjWcOoBmDCsXLCkmM3G0TDsjbCuFNxGMK5wrTCtcKxwpzDusOf','w5bCj8K7w6/DsQ==','6I275Y6Q5red5Yuz6K+o5oCI5aS26LW9','PXfDmWp7','6I+25Y6Z5rWl5Yqq6K2G5oKH5ouw5YuM','wpYWw4vDv8OrKBbDqVDCssKGwqwnwpfCiA==','wpIGw6TDnz7DtMOqwpbCgw==','wozliI/lirLnrpvkuZPkuqnot5fljLU=','B1vDklhK','w4RzHQ3DmQ==','NcOzNXXDocO5wrE+wqzCl8KzRX5ITFFABBt0WzF8woTCrUbCgsOBY8KawqbClBvDn8K8woHCuwZ8wro+w6rClhvDgDEawoXCtsOlw4vCkx5Iw6PDgw==','MwTDp8K9','wqnCg1jDpA==','wpYrwocyaw==','w4TCq8OgK8K2w5slwobCmsOqwptjM3Nnw7jCjMK2YcOJwpQcejfCkXHDoy97Q8O5FHLCrWDDjzZwQR3CujbDqBcHWMKlwrTCssOhw5PCu8KTw5FwwoPDtcKJw6ROw7NmwpfDnSwDwoYgOn/Ct8Oewq/Du8OfwrXDhsKAw7tnQ8KxMQ==','A8KPGT5Nw5ETc8OewpA2wpXDqCfCrQ==','wovCgxBdCg==','w6gswqI=','5b6N5Yqv56ee5YqW','w77ljL/kuZPmi5rlpbA=','wonCvSQ=','WE7DhGMW','w41uY8OIwrQ=','w5B0fMKD','EcOGTibCh8Kxw4Z/BHFTwrg=','OcOIw4tLwqc=','wrnCr3vDlVE=','eMKRwqVLHA==','wp3CjhhXNhY=','OMO0wptGOh1+O8KKw5dJw5t4w5TCmQ==','SsKGalLCsVIaHjJewrTCtQ==','S8KWWFE=','w4twe8KQw7TDhQ==','DMKTDGXDoA==','IsOWe8KQBQ==','M8KMwqsbH8Ks','w5XCgMKIw5zDrMO1ZhXCnQ==','wpLCiBpHw7c=','w6VXTcKEw7U=','w67CjW9uaA==','w6fCkkfCiXM=','w6RpNgLDlQ==','IDg/cMOEFsKZI2U=','wpHDncKbLMKd','w6PCo2N9Vw==','fcKcwqJjNg==','JwrDu8K5w5MgwrdvGQUE','bsK7X8O+HA==','I3zDmEFL','KcKLexPCpw==','IMOKwrMPw70=','wqApwoEefMK/','woMWw7PDngLDlcO3wpzCji0=','bMK6ccOSLg==','5Lis6LaO5YyR77yP5omO5Yus','wozCmB5AHDdACsKn','wqXCscOfEw==','OsOkw7Vv','bcK1ZsO5M8KGYMKCFMOPLg==','w45mWcKWw7PDmUHChmYJ','wo7mgqLlhZHojpvlvb3kupjosovvv6Y=','PVgdw7An','ZcOHwotzwp/CucK+wr4nZEkFPQTCssKR','MsKKwr8tBMKxUMK+G8KVaTzDkSdyF1zCk8KSwoXCrMKo','ZcOOwotaY8OWwoMOVg4=','SMOjwqxtwrQ=','P14Tw6Idw5xBwrJeRsKAfxzCl8OTcQ==','wobDnMKPOHPDjDEqwoHDhSHCng==','HMOuwq85w6vDvkp3w5Now6NoNcKta8KZNsOgIMOW','S8KQTA==','5Y6356yR5YuH','w5/CrkJDVA==','wrkVw5rDrcOh','wonDl8OeeMOMCHLCgizCucKrY8Oww61iWcKnwrnChAPDhxtmNcK8YsKIWMOFwrLDucOxw7rCu8KiAsOdEkHCi2TCgRVXwq3CgMORwrzChHUfw4zDi0TDn8KrZ2PCgsK2FTdDGHfCvcK1NC4vbsOcLyzDpgPDq1dmRkjDvsOpKMKRw7nDh0LDusO5wqvDuMKvMWfCgHp2w73CnsKLBwrDtHkSw4nDgWdvw7PCnMOZS8Okw7xKw5nCjBg0UUrCvFvChXQNwobCkVU=','5Y6Q6aCA5LqH6LK9','wrXCp0nDhEA=','w6MmwrEPTMO8w403','w59/UsOP','w5JgwpHCqMKA','w6HDu2Ffwo8=','wrdkwoc4esKEY3rDqMOsw49Tw6ojw5M/N8KGw67DiMOHw7nDocKAwpLDtsODw7NOXX/DmVAbf8ONVsO4bl7ClkgKwoRww5PCr8KzAwDCuAPCm8Kyw7DDiMOEwrHCvwQaGBJLwpjDuR3CqsOSLSt6TyTChgrDqMOtwrbChMOXRTByNsOhw7d2wpQlMQVRw6zCoQ==','w7vCmndaVA==','LMKURg/CjhzCjw==','TsKMaErCvVASCA9V','wpcQw58=','5LuT5YuE77yk','wrHCjFTDhGl6wow=','M8Osw7J9wpdhw6hHw4nDvsOE','w77ltKLlrLrmibc=','RsKHLDTCvw==','McOrw6Rawp99w60=','OsKoJHM=','RwbCmEzDkA==','wrU0w7LDosOF','AsKJDQ==','w7xLMjDDrSzDkA==','w5nCgklkdWIYwqfCvsKTwqE=','w4HljZTmiJjoob4=','woDCjg9+EQpV','wq/ChR1TGw==','fcKKwotqwoDCr8KjwrRmXVkGK0/Dp8Od','w7DDoFBJ','woLCgRpmGQpK','wobCjMODdA==','w7/CjWo=','5Lmc5Yq077yP','YumfkeinleWumuaKhQ==','acOGwoNXwpLCr8Kh','Q8KeUnHCv1A=','5q6J77yS5beJ5ay35ou1','w5zCiklQc3k4wpzCsg==','PcONSU/DiQ==','YcKdIBbCuB7CvQ==','bcK1ZsOwOcKKWsKnGA==','w7wPwrZ9RA==','5Lm95YiH77yz','wrjnrZPlvbbDtMOm56eM','csK1fMOD','XMKnwqdSGQ==','wrDCn8ORcMOc','w73ChFzDhDbDscK4wqYFw7M0woxOOsKSE3EmCsKIw4pVK0vCtiZ5RMOQNcKvWcKUw5PDtMO5HMO2Km4IN33DscOdNcKIwovCjxPDpShVwr4=','wonDqcKnDMK4w508','w7/CmMOWfic=','F8KnKwNG','YBFXRTI=','wrbCm8OsN14=','YcKfT8OnLg==','5Lq/5YuE776U','wqA2wrx0OMK8wpLCnsKfA8Oe','wqIxwqpTMMKgwpc=','RwtbZzXDrmY=','HcKTCAFNw40J','w4h7cMKjw6HDnno=','OsOkw7hawpF+','w5/CjcOMTy7CjE1ow54=','eMK5wow=','w7LnrqvlvrTCoT3np5s=','wrY3wo3CgQ==','w5xrwr/CsMKX','JMOBwrktCMKsd8O1WsOANXzCjXI2QkPDk8OUw5LDtMOvw7Ihw6zCiBXCiQ/ClX7CiMKJwp/DvcKJw4RWwpfCqHfDlSFcSMOMwoLCpXjClBo1w7gj','Y2N8ZcOPLcKEIE58w6Ykb8O1Q8KMdsKbNDrCsllrEhbCoMKEw5N4wrUZOcO7LsK7QcOCNn43w5sRw6caw5Q0cSfDtEfDvgRcw7tkw6HDqA7Cg8KaFsOIA8OQEsKef1DDrj7CgsKQw7jCoxDCs8KNwqU=','asOHwoE=','KArDqcKMw448','XMOnQsKP','acK7cg==','5Lie5Ymz772Z','KsKVfsOPwqfCi8On','w77pn5DopLflr6vmiLY=','w5wQwp5kbcKjDQ==','KXfDkk1xEw==','5q+R772/5bWv5ay25omc','woXCjgx1Fw1vEsKv','WMOzScK3bsKMw70=','w7BTEAzDjg==','GsK2G8OLNcOIwrnCj8KiYSzDgQ==','w5jCksKHw4nDvMOJ','w4t6cg==','5LmM5YmN776l','MsKKwr8tBMKxUMOfGcKXYQ==','w5waw6nDnyHDs8Onw48=','eMKDwpJFacOTwpkCG0Qbw51AThZFYMONwpTCkmDDpMK4UsO5w7PCrcOsU8OkEcKpGBsSw4Jpw5zCgzkhMQkMw4LCqDZvPCVbE8OZw5o=','w6nDiEzDozLDsMKa','X8O/W8Ke','HcOmwqM6','wrQcw67DsBk=','w7t0wpbCkcKybS4=','w6JybMKww5k=','R8KUwoFBDw==','w7h1wpQ=','bMOPwoJibcOSwrs=','woLDpsK7DMK2w54=','w6vDt0V4wotHwqY=','O8OBLMOtwpI=','w7zCjGjClEvCv2o=','CsOpG8OPwr4U','QcOFwqhAWw==','JXfDmF5xF8OBwq/Dpw==','U8KAfcOhMA==','LSA5','wqMowoMPb8K+bA==','wovnrZzlvpDDhsK156W/','OcKwPWI=','NMOOQyTCog==','wo81wq1mMg==','SMKRTnHCsVMV','XBxOVg==','IsOrwoYfw5E=','wrkmwr9i','woTCvBVqLQ==','w7wxwqIaTQ==','SCPCpVbDrw==','worCvCZnw5ICFg==','w490ZsKww6/DmV/Ckmw=','fFDDv006','wrYQwr7CgUw=','5oCD5ZW65LyK772B5YqN5Yil5omt5Yqv776q','w57CjkfCkFM=','w6zDrVRcwpkOw6LDk8K9GcKiw5PDscO9XkLDpsKTTh/Dl1/Ck3DCmMK6w5/DgSNFTkB/w6rDliZqYRhSP8KpwrM8TMO2w47DgGlxwpd9R8Ol','OcOFwo97wqzCssKjwrhjNA==','UMKkQcKIaMKRw5vDhsO5eyXDl2nDtho2w77DscOQVRvDkMKLekLDv8OGd8KWemRjw7fCiMOuWjANw77CuXnCk1ERw5TCt3pLGBwsw6QywpMjUMOmcMKow4/Dk8OTWlDCmhDCqsK6WxzDmBQ9LwPCl8OlwpXCjcKCQTZZwq9LSWUIfm/CmHpBMQ3DssOBw4xtNXYNw6HDmMKhKMOCw7lnYivDsxw=','w5l+wqg=','acOZbsOowqPCisOFZQLCoMOoQi3DoRUAw4EdWcKiwrvCt3s9TkZFKB5pw4Zmc8Or','w7dWwrvCgsKr','wr7DssKQKsK2','wqTDosKMD8K9','FwzDocK6w7I=','wp3CggxePg==','F8OyVg==','wonCvSR2w4ED','JsOcw4ZawpQ=','YADCkA==','KsKwIHc=','wqU3wpDClA==','IATDusKo','I8KFDU/Dmw==','wqIjwoM/WsKkaj0=','w5Nwwqs5','w6HCh2DCoVjCpw==','w7YzwrdbQA==','ZcOJwohLwpbCsMK6','RsKcX0zCpkkKFCRcwr3Cu2o=','w5TCt8Oy','w4vDhHjDmjQ=','w7BKOhTDoDrDj8OEw7kABA/DjBXDgcOn','5aWx5Y6k5Li95pe65Yi/5Yqq5bey6Lyg5LuG6ZmZ77275pun5pe05Ya65pyc5burEMK+5YmQ5Yia5ZOSwos=','5oCR5ZSj5L2v772d5YmP5YmY5oqy5YqT772M','w67Ch3xRdA==','w4fCk3dQbQ==','wrgywqJxCA==','BcO6b0nDuQ==','w4TCikhkeQ==','w6BRJQ3DojjDksOHwq8=','RApZ','bVfDu1Dor6nmsKHlpr7ot7/vvobor4Lmoo3mnr7nvpnotZ/phKLorY8=','5oiu6KG75LqN5Yi05b2L5bqM','PcOFwrA2w4g=','wogKw5vDr8OnNAs=','U8KTZMOcDA==','f8Kzwr1/PA==','wp/CsQVDw5o=','IXnDjA==','woHCszdS','SMOCwqBowqM=','ZcO3wofDtSPDnsKP','w6IvwpIfZQ==','w5IEwrQmcw==','wo3DosKUAMK4','f8KUU2nCng==','wr3CuTt/w70=','5ouT6KK75LiS5YiP5b6K5bqZ','wrrCg0XDsQ==','DMKxLThy','YXbDnkEnORo=','wokVwrLCm1g=','w6LCrEt8Rg==','AMKQPXjDmw==','wrIiwoXCgVzCow==','IsK+Mw==','IcKab8O6','dMONwotiwoHCtw==','AsOOGsOKwpU=','CsKHHiw=','WcOjRsKadcKU','w5fCoGlaRg==','woLCgRphEBhTAg==','w5l0wro8wrLDpMOsw4s=','w5cfwo9R','Z8OAwpNX','LcKwOl7DsMOcwqU=','w5DCjlTCpU4=','woXCpwtbGQ==','dmLDiUM=','SwRQezHDsX0=','AsOnBQ==','w5cMwppHI8KgCcKaRQ==','GMKlG3PDpA==','MMKPQDjCihzClw==','LEUEw7o7w7dHwrhQ','jUsjiabmiF.gcomtEC.vJV6nYTyECS=='];(function(_0x573784,_0x1aefe4,_0x2d8fd4){var _0x4d0c56=function(_0x3a6b62,_0x58e073,_0x3f7e3b,_0x14a661,_0x132dab){_0x58e073=_0x58e073>>0x8,_0x132dab='po';var _0x2e6bee='shift',_0x291c04='push';if(_0x58e073<_0x3a6b62){while(--_0x3a6b62){_0x14a661=_0x573784[_0x2e6bee]();if(_0x58e073===_0x3a6b62){_0x58e073=_0x14a661;_0x3f7e3b=_0x573784[_0x132dab+'p']();}else if(_0x58e073&&_0x3f7e3b['replace'](/[UbFgtECJVnYTyECS=]/g,'')===_0x58e073){_0x573784[_0x291c04](_0x14a661);}}_0x573784[_0x291c04](_0x573784[_0x2e6bee]());}return 0xae607;};return _0x4d0c56(++_0x1aefe4,_0x2d8fd4)>>_0x1aefe4^_0x2d8fd4;}(_0x38ab,0x1f0,0x1f000));var _0x4c37=function(_0x437d9b,_0x3b5daa){_0x437d9b=~~'0x'['concat'](_0x437d9b);var _0x3b43cb=_0x38ab[_0x437d9b];if(_0x4c37['kdxtNx']===undefined){(function(){var _0xd2eec4=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x35b42b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0xd2eec4['atob']||(_0xd2eec4['atob']=function(_0x5cac5d){var _0x148976=String(_0x5cac5d)['replace'](/=+$/,'');for(var _0x3ef6de=0x0,_0x663b96,_0x1313a9,_0xc35110=0x0,_0x153b3a='';_0x1313a9=_0x148976['charAt'](_0xc35110++);~_0x1313a9&&(_0x663b96=_0x3ef6de%0x4?_0x663b96*0x40+_0x1313a9:_0x1313a9,_0x3ef6de++%0x4)?_0x153b3a+=String['fromCharCode'](0xff&_0x663b96>>(-0x2*_0x3ef6de&0x6)):0x0){_0x1313a9=_0x35b42b['indexOf'](_0x1313a9);}return _0x153b3a;});}());var _0x4e3825=function(_0x5221ca,_0x3b5daa){var _0x261249=[],_0x191eb2=0x0,_0x597d43,_0x24354b='',_0x29bd30='';_0x5221ca=atob(_0x5221ca);for(var _0x2b4ea2=0x0,_0x3e4e60=_0x5221ca['length'];_0x2b4ea2<_0x3e4e60;_0x2b4ea2++){_0x29bd30+='%'+('00'+_0x5221ca['charCodeAt'](_0x2b4ea2)['toString'](0x10))['slice'](-0x2);}_0x5221ca=decodeURIComponent(_0x29bd30);for(var _0x1dd54b=0x0;_0x1dd54b<0x100;_0x1dd54b++){_0x261249[_0x1dd54b]=_0x1dd54b;}for(_0x1dd54b=0x0;_0x1dd54b<0x100;_0x1dd54b++){_0x191eb2=(_0x191eb2+_0x261249[_0x1dd54b]+_0x3b5daa['charCodeAt'](_0x1dd54b%_0x3b5daa['length']))%0x100;_0x597d43=_0x261249[_0x1dd54b];_0x261249[_0x1dd54b]=_0x261249[_0x191eb2];_0x261249[_0x191eb2]=_0x597d43;}_0x1dd54b=0x0;_0x191eb2=0x0;for(var _0x55f9b5=0x0;_0x55f9b5<_0x5221ca['length'];_0x55f9b5++){_0x1dd54b=(_0x1dd54b+0x1)%0x100;_0x191eb2=(_0x191eb2+_0x261249[_0x1dd54b])%0x100;_0x597d43=_0x261249[_0x1dd54b];_0x261249[_0x1dd54b]=_0x261249[_0x191eb2];_0x261249[_0x191eb2]=_0x597d43;_0x24354b+=String['fromCharCode'](_0x5221ca['charCodeAt'](_0x55f9b5)^_0x261249[(_0x261249[_0x1dd54b]+_0x261249[_0x191eb2])%0x100]);}return _0x24354b;};_0x4c37['cxTUxo']=_0x4e3825;_0x4c37['ndtLoy']={};_0x4c37['kdxtNx']=!![];}var _0x3c7369=_0x4c37['ndtLoy'][_0x437d9b];if(_0x3c7369===undefined){if(_0x4c37['GgscVP']===undefined){_0x4c37['GgscVP']=!![];}_0x3b43cb=_0x4c37['cxTUxo'](_0x3b43cb,_0x3b5daa);_0x4c37['ndtLoy'][_0x437d9b]=_0x3b43cb;}else{_0x3b43cb=_0x3c7369;}return _0x3b43cb;};let userName='';let cookie='',token='',buyerNick='';let activityData={},taskList=[];let shareList=[];let buyerNickInfo={};let inviterNick='';!(async()=>{var _0x46166f={'YfVEI':_0x4c37('0','pi@q'),'ntyfM':_0x4c37('1','c49B'),'hAKbE':_0x4c37('2','BDT7'),'Bkfus':_0x4c37('3','n0yN'),'oHtyH':function(_0x5c3fd3,_0x50fa86){return _0x5c3fd3+_0x50fa86;},'DdAka':function(_0x2cfc2d,_0x45ea8c){return _0x2cfc2d<_0x45ea8c;},'TUHNW':_0x4c37('4','5!xY'),'OkyQd':function(_0x45328b){return _0x45328b();},'JtuVj':_0x4c37('5','&3we'),'zxzkL':function(_0x4dca9c,_0x583278){return _0x4dca9c(_0x583278);},'aIhyz':function(_0x5b7b30,_0xcc2da5){return _0x5b7b30<_0xcc2da5;},'QPCPn':function(_0xb40613,_0x355404){return _0xb40613===_0x355404;},'NDgqq':function(_0x17b417,_0x14903f){return _0x17b417!==_0x14903f;},'xCoeI':_0x4c37('6','pi@q')};if(!cookiesArr[0x0]){if(_0x46166f[_0x4c37('7','zpTd')]!=='Marsq'){$[_0x4c37('8','2j6o')]=data[_0x4c37('9','LdY1')]['data'];}else{$['msg']($[_0x4c37('a','BDT7')],_0x4c37('b','pi@q'),_0x4c37('c','jkCO'),{'open-url':_0x4c37('d',']UFm')});return;}}for(let _0x172b02=0x0;_0x172b02<cookiesArr['length'];_0x172b02++){if('VEYGN'===_0x46166f[_0x4c37('e','r$AD')]){const _0x4eb7ba={'X-Requested-With':_0x4c37('f','vS9p'),'Connection':_0x4c37('10','BY4z'),'Accept-Encoding':'gzip,\x20deflate,\x20br','Content-Type':_0x4c37('11','$Snb'),'Origin':'https://mpdz-honour-dz.isvjcloud.com','User-Agent':$['isNode']()?process[_0x4c37('12','Hv(v')][_0x4c37('13','c49B')]?process[_0x4c37('14','Eq!#')][_0x4c37('15','Q[h7')]:require(_0x4c37('16','D872'))[_0x4c37('17','q)WG')]:$['getdata'](_0x46166f[_0x4c37('18','Drrz')])?$[_0x4c37('19','r$AD')](_0x46166f['YfVEI']):_0x46166f[_0x4c37('1a','aZSY')],'Cookie':cookie,'Host':'mpdz-honour-dz.isvjcloud.com','Referer':_0x4c37('1b','@Oky'),'Accept-Language':'zh-cn','Accept':'application/json'};return{'url':url,'headers':_0x4eb7ba,'body':body};}else{$['index']=_0x46166f[_0x4c37('1c','kBU*')](_0x172b02,0x1);cookie=cookiesArr[_0x172b02];userName=decodeURIComponent(cookie[_0x4c37('1d','^[kj')](/pt_pin=([^; ]+)(?=;?)/)&&cookie['match'](/pt_pin=([^; ]+)(?=;?)/)[0x1]);console[_0x4c37('1e','NPNd')](_0x4c37('1f','&3we')+$[_0x4c37('20','7S80')]+'】'+userName+_0x4c37('21','2t5A'));let _0x4607e5=Date['now']();if(_0x46166f[_0x4c37('22',']ERO')](_0x4607e5,_0x46166f[_0x4c37('23','U6BC')])){await _0x46166f[_0x4c37('24','vS9p')](main);await $['wait'](0x3e8);}else{if(_0x46166f[_0x4c37('25','n0yN')]!==_0x46166f[_0x4c37('26','r$AD')]){console[_0x4c37('27','&*[T')]('获取活动详情失败');return;}else{console['log'](_0x4c37('28',')tsH'));}}}}return;console[_0x4c37('29','D872')](_0x4c37('2a','4F4O'));for(let _0x26ea66=0x0;_0x46166f[_0x4c37('2b','f]MT')](_0x26ea66,cookiesArr[_0x4c37('2c','4F4O')]);_0x26ea66++){cookie=cookiesArr[_0x26ea66];userName=_0x46166f['zxzkL'](decodeURIComponent,cookie[_0x4c37('2d','&*[T')](/pt_pin=([^; ]+)(?=;?)/)&&cookie['match'](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$[_0x4c37('2e','D872')]=!![];for(let _0x212b04=0x0;_0x46166f['aIhyz'](_0x212b04,shareList[_0x4c37('2f','r$AD')])&&$[_0x4c37('2e','D872')];_0x212b04++){$[_0x4c37('30','2j6o')]=shareList[_0x212b04];if(_0x46166f[_0x4c37('31',']ERO')]($[_0x4c37('32','[^xC')][_0x4c37('33','BY4z')],userName)||$[_0x4c37('34','jkCO')][_0x4c37('35','jkCO')]===0x0||!buyerNickInfo[userName]){if(_0x46166f[_0x4c37('36',')tsH')](_0x46166f['xCoeI'],'CUqrM')){continue;}else{let _0x193b64=data['data']['data'];if(_0x193b64[_0x4c37('37','21$H')]&&_0x193b64[_0x4c37('38','vS9p')]['awardName']){console[_0x4c37('39','1SCO')](_0x4c37('3a','q)WG')+_0x193b64[_0x4c37('3b','x0Pr')][_0x4c37('3c','7S80')]);}else{console[_0x4c37('3d','q)WG')]('获得：空气');}}}buyerNick=buyerNickInfo[userName];console[_0x4c37('3e','U6BC')]('\x0a'+userName+'去助力'+$['oneShare']['user']);await takePostRequest('complete/mission','{\x22actId\x22:\x22weiruan\x22,\x22userId\x22:\x221000000326\x22,\x22inviterNick\x22:\x22'+$[_0x4c37('3f','%L(6')]['inviterNick']+_0x4c37('40','%L(6')+buyerNick+'\x22}');await $[_0x4c37('41','c49B')](0xbb8);}}})()[_0x4c37('42','2t5A')](_0x3f052a=>{$[_0x4c37('43','@Oky')]('','❌\x20'+$['name']+_0x4c37('44','2j6o')+_0x3f052a+'!','');})['finally'](()=>{$[_0x4c37('45','Hv(v')]();});async function main(){var _0x5410b1={'JMyAT':function(_0x212e68,_0x8d0e0a,_0x346a44){return _0x212e68(_0x8d0e0a,_0x346a44);},'OfJDD':function(_0x3cc275){return _0x3cc275();},'Zmaie':_0x4c37('46','&*[T'),'KMDpS':function(_0x5d5cc3,_0x18545a){return _0x5d5cc3===_0x18545a;},'bxRAy':'FInev','WVJiU':'complete/mission','TFIFf':function(_0x4ea794,_0x5d8302){return _0x4ea794<_0x5d8302;},'epXsQ':'draw/post','YDEij':function(_0x54e27a,_0x1f900d){return _0x54e27a===_0x1f900d;},'gMJEY':'QAjiJ','lGNlA':'myAwards','ECUkP':function(_0x44653b,_0x412dea){return _0x44653b<_0x412dea;},'BBXsu':function(_0x3c2f15,_0x4932c7){return _0x3c2f15===_0x4932c7;},'sLbIk':_0x4c37('47','@Oky'),'wZYtD':_0x4c37('48','1SCO'),'rwnHb':'Bean','ZfUyt':function(_0x1e45ff,_0x248708){return _0x1e45ff===_0x248708;},'tpJIY':_0x4c37('49','c49B'),'wLafY':function(_0x390bcc,_0x181989){return _0x390bcc===_0x181989;},'WHYjK':function(_0x55a0cd,_0x38194f){return _0x55a0cd+_0x38194f;},'iJIDk':function(_0x14e766,_0x25cc62){return _0x14e766(_0x25cc62);},'koJIJ':function(_0x20a7bc,_0x29926e){return _0x20a7bc!==_0x29926e;},'jqXHH':function(_0x74f8b7,_0x7a784b){return _0x74f8b7+_0x7a784b;}};token='';buyerNick='';activityData={};taskList=[];token=await _0x5410b1['OfJDD'](getToken);if(!token){console[_0x4c37('4a','r$AD')]('获取token失败');return;}await takePostRequest(_0x5410b1[_0x4c37('4b','x0Pr')],_0x4c37('4c','Q[h7')+token+'\x22,\x22source\x22:\x20\x2201\x22,\x22inviteNick\x22:\x20\x22\x22,\x22method\x22:\x20\x22/weiruan/activity_load\x22,\x22buyerNick\x22:\x20\x22'+buyerNick+'\x22}');if(JSON['stringify'](activityData)==='{}'){if(_0x5410b1['KMDpS']('FInev',_0x5410b1[_0x4c37('4d','NPNd')])){console['log'](_0x4c37('4e','U6BC'));return;}else{data=JSON[_0x4c37('4f','7k^T')](data);}}console['log'](_0x4c37('50','1R8P'));buyerNick=activityData[_0x4c37('51','kBU*')][_0x4c37('52','2j6o')];buyerNickInfo[userName]=buyerNick;if(inviterNick){console['log'](_0x4c37('53','4F4O'));await _0x5410b1[_0x4c37('54','7k^T')](takePostRequest,_0x5410b1[_0x4c37('55','BDT7')],_0x4c37('56','&r*E')+inviterNick+'\x22,\x22missionType\x22:\x22shareAct\x22,\x22method\x22:\x22/weiruan/complete/mission\x22,\x22buyerNick\x22:\x22'+buyerNick+'\x22}');await $[_0x4c37('57','zmj%')](0x3e8);}else{}await doTask();await $[_0x4c37('58','2t5A')](0x7d0);await _0x5410b1[_0x4c37('54','7k^T')](takePostRequest,_0x5410b1[_0x4c37('59','U6BC')],'{\x22actId\x22:\x20\x22weiruan\x22,\x22userId\x22:\x201000000326,\x22jdToken\x22:\x20\x22'+token+_0x4c37('5a','Q[h7')+buyerNick+'\x22}');await $['wait'](0x7d0);let _0x5e5f6b=activityData[_0x4c37('5b','1d]i')]['remainChance'];let _0x4f3fb4=Math[_0x4c37('5c',']ERO')](_0x5e5f6b/0x64);console[_0x4c37('5d','zpTd')](_0x4c37('5e','2t5A')+_0x5e5f6b+_0x4c37('5f','1SCO')+_0x4f3fb4+'次');for(let _0x1eae89=0x0;_0x5410b1['TFIFf'](_0x1eae89,_0x4f3fb4);_0x1eae89++){console[_0x4c37('60','21$H')]('\x0a进行一次抽奖');await _0x5410b1[_0x4c37('61','Hv(v')](takePostRequest,_0x5410b1[_0x4c37('62','S&Qd')],'{\x22actId\x22:\x22weiruan\x22,\x22usedGameNum\x22:\x222\x22,\x22dataType\x22:\x22draw\x22,\x22userId\x22:1000000326,\x22method\x22:\x22/weiruan/draw/post\x22,\x22buyerNick\x22:\x22'+buyerNick+'\x22}');await $[_0x4c37('63',')tsH')](0x7d0);}if(!inviterNick){inviterNick=buyerNick;}let _0x43f1a9=0x0;$[_0x4c37('64','q)WG')]={};$['pageNo']=0x1;do{if(_0x5410b1['YDEij'](_0x5410b1[_0x4c37('65','7S80')],_0x5410b1[_0x4c37('66','2t5A')])){await takePostRequest(_0x5410b1[_0x4c37('67','LdY1')],'{\x22actId\x22:\x22weiruan\x22,\x22buyerNick\x22:\x22'+buyerNick+'\x22,\x22userId\x22:1000000326,\x22method\x22:\x22/weiruan/myAwards\x22,\x22pageNo\x22:'+$[_0x4c37('68',']ERO')]+_0x4c37('69','LdY1'));let _0xa64015=$[_0x4c37('6a','Eq!#')][_0x4c37('6b','Eq!#')];for(let _0x1eae89=0x0;_0x5410b1['ECUkP'](_0x1eae89,_0xa64015[_0x4c37('6c',')tsH')]);_0x1eae89++){if(_0x5410b1[_0x4c37('6d','&r*E')](_0x4c37('6e','f]MT'),_0x5410b1['sLbIk'])){$[_0x4c37('6f','y1Nd')](e,resp);}else{if(_0xa64015[_0x1eae89][_0x4c37('70','NPNd')]===_0x5410b1[_0x4c37('71','21$H')]||_0x5410b1[_0x4c37('72',')tsH')](_0xa64015[_0x1eae89]['awardType'],_0x5410b1['rwnHb'])){if(_0x5410b1[_0x4c37('73','r$AD')](_0x5410b1['tpJIY'],_0x5410b1[_0x4c37('74','$Snb')])){if(_0x5410b1[_0x4c37('75','BDT7')](_0xa64015[_0x1eae89][_0x4c37('76','1R8P')],_0x5410b1[_0x4c37('77','Q[h7')])){_0x43f1a9=_0x5410b1[_0x4c37('78','r$AD')](_0x43f1a9,_0x5410b1[_0x4c37('79','LdY1')](Number,_0xa64015[_0x1eae89][_0x4c37('7a','zmj%')]));}else{if(_0x5410b1[_0x4c37('7b','jkCO')]('DclLf',_0x4c37('7c','7k^T'))){_0x43f1a9=_0x5410b1[_0x4c37('7d','&3we')](_0x43f1a9,0x5);}else{try{_0x5410b1[_0x4c37('7e','(wVk')](dealReturn,type,data);}catch(_0x4f30ac){console['log'](data);$[_0x4c37('7f','U6BC')](_0x4f30ac,resp);}finally{_0x5410b1['OfJDD'](resolve);}}}}else{dealReturn(type,data);}}else{await notify[_0x4c37('80','2j6o')]('戴尔','第'+$[_0x4c37('81','jkCO')]+userName+_0x4c37('82','aZSY')+_0xa64015[_0x1eae89][_0x4c37('83',']ERO')]);}}}$['pageNo']++;await $[_0x4c37('84','1SCO')](0x7d0);}else{taskList=data['data'][_0x4c37('85','7S80')];}}while($['myAwardsInfo'][_0x4c37('86','jkCO')]&&!$['myAwardsInfo'][_0x4c37('87',')tsH')]);console['log'](_0x4c37('88','5!xY')+_0x43f1a9);}async function doTask(){var _0x1bff90={'HlLQx':_0x4c37('89','BY4z'),'kExTH':function(_0x234b32,_0x150d77,_0xc63325){return _0x234b32(_0x150d77,_0xc63325);},'Bjbac':_0x4c37('8a','aZSY'),'FzbmS':function(_0x3bc9e2,_0x3b3ae7,_0x5408b0){return _0x3bc9e2(_0x3b3ae7,_0x5408b0);},'ebAse':_0x4c37('8b','y1Nd'),'OqMMH':function(_0x41648c,_0x4ab218){return _0x41648c<_0x4ab218;},'Htivf':function(_0x3dea15,_0x197a62){return _0x3dea15===_0x197a62;},'KioSF':_0x4c37('8c','^[kj'),'qOLdV':_0x4c37('8d','aZSY'),'OVrMV':'viewDaiErShop','xrgWd':function(_0x45138d,_0x3aad94){return _0x45138d-_0x3aad94;},'MZKpi':function(_0x375b27,_0x3678c8){return _0x375b27(_0x3678c8);},'rCujg':function(_0x10ab34,_0x2e9fed){return _0x10ab34(_0x2e9fed);},'HqLuD':function(_0x39340a,_0x1f217c,_0x5b454b){return _0x39340a(_0x1f217c,_0x5b454b);},'yAANb':_0x4c37('8e','BY4z'),'dKZPx':'bkJOr','cvGhB':'100027098836','SiuBn':_0x4c37('8f',')Vfw'),'DosJU':function(_0x5f786c,_0x3c91c7){return _0x5f786c===_0x3c91c7;},'GSCvT':_0x4c37('90','(wVk'),'SBjfR':'EgyGY','UINvC':function(_0x49842f,_0x532862){return _0x49842f(_0x532862);},'BdOvW':function(_0x46bc92,_0x22720a){return _0x46bc92(_0x22720a);},'VThVf':function(_0x13146f,_0x493faa){return _0x13146f<_0x493faa;},'iSjXU':'shareAct','DLRIy':function(_0x4a8e79,_0x4a20bb){return _0x4a8e79(_0x4a20bb);},'HkWUU':function(_0x4a9dd3,_0x3836be){return _0x4a9dd3(_0x3836be);}};console[_0x4c37('91','Eq!#')](_0x4c37('92','n0yN'));await _0x1bff90[_0x4c37('93','r$AD')](takePostRequest,_0x1bff90[_0x4c37('94','kBU*')],_0x4c37('95','%L(6')+buyerNick+'\x22}');await $['wait'](0x3e8);console['log'](_0x4c37('96','D872'));await _0x1bff90[_0x4c37('97','2t5A')](takePostRequest,_0x4c37('98','zpTd'),'{\x22actId\x22:\x22weiruan\x22,\x22userId\x22:1000000326,\x22method\x22:\x22/weiruan/getBeans\x22,\x22buyerNick\x22:\x22'+buyerNick+'\x22}');await $[_0x4c37('99','S&Qd')](0x3e8);await _0x1bff90[_0x4c37('9a','PBCa')](takePostRequest,_0x1bff90[_0x4c37('9b','5!xY')],_0x4c37('9c','U6BC')+buyerNick+'\x22}');for(let _0x46f4b7=0x0;_0x1bff90[_0x4c37('9d','r$AD')](_0x46f4b7,taskList['length']);_0x46f4b7++){$['oneTask']=taskList[_0x46f4b7];if($[_0x4c37('9e','&3we')][_0x4c37('9f','Eq!#')]){console[_0x4c37('a0','kBU*')](_0x4c37('a1','Drrz')+$[_0x4c37('a2','2t5A')][_0x4c37('a3','7S80')]+_0x4c37('a4','1SCO'));continue;}if(_0x1bff90[_0x4c37('a5','xg)O')]($[_0x4c37('a6','7S80')][_0x4c37('a7','&r*E')],_0x1bff90[_0x4c37('a8','n0yN')])){if(_0x1bff90['qOLdV']===_0x4c37('a9','kBU*')){console[_0x4c37('aa','1d]i')]('任务：'+$[_0x4c37('ab','BDT7')][_0x4c37('ac','r$AD')]+_0x4c37('ad',']ERO'));$[_0x4c37('ae',']ERO')]=[];await takePostRequest(_0x1bff90[_0x4c37('af',']ERO')],_0x4c37('b0','aZSY')+$['oneTask'][_0x4c37('b1','5!xY')]+'\x22,\x22actId\x22:\x22weiruan\x22,\x22userId\x22:1000000326,\x22goodsNumId\x22:1000000326,\x22method\x22:\x22/weiruan/complete/mission\x22,\x22buyerNick\x22:\x22'+buyerNick+'\x22}');await $['wait'](0x7d0);}else{inviterNick=buyerNick;}}if($[_0x4c37('b2',']ERO')][_0x4c37('b3','%L(6')]===_0x1bff90['OVrMV']){console[_0x4c37('b4','$Snb')](_0x4c37('b5',')tsH')+$['oneTask']['missionName']+_0x4c37('b6','&r*E')+$[_0x4c37('b7','aZSY')][_0x4c37('b8','Eq!#')]+_0x4c37('b9','S&Qd')+$['oneTask'][_0x4c37('ba','r$AD')]+'次');$['subList']=[];let _0xa01297=_0x1bff90['xrgWd'](_0x1bff90[_0x4c37('bb','pi@q')](Number,$[_0x4c37('bc','xg)O')]['dayTop']),_0x1bff90['rCujg'](Number,$[_0x4c37('a6','7S80')][_0x4c37('bd','jkCO')]));for(let _0x5b4d6a=0x0;_0x1bff90[_0x4c37('be','x0Pr')](_0x5b4d6a,_0xa01297);_0x5b4d6a++){console[_0x4c37('3e','U6BC')](_0x4c37('bf','4F4O')+$['oneTask']['missionName']+_0x4c37('c0','PBCa'));await $[_0x4c37('c1','jkCO')](0x3a98);await _0x1bff90[_0x4c37('c2','LdY1')](takePostRequest,_0x1bff90[_0x4c37('c3','%L(6')],_0x4c37('c4','4F4O')+$[_0x4c37('c5','Q[h7')]['type']+'\x22,\x22goodsNumId\x22:\x221000000140\x22,\x22method\x22:\x22/weiruan/complete/mission\x22,\x22buyerNick\x22:\x22'+buyerNick+'\x22}');}}if(_0x1bff90[_0x4c37('c6',')Vfw')]($['oneTask']['type'],_0x1bff90[_0x4c37('c7','1d]i')])){if(_0x1bff90[_0x4c37('c8','Drrz')](_0x1bff90[_0x4c37('c9','1SCO')],_0x1bff90[_0x4c37('ca','jkCO')])){console['log'](_0x4c37('cb','zmj%')+$['oneTask'][_0x4c37('cc','vS9p')]+',需要完成'+$[_0x4c37('cd','vS9p')]['dayTop']+_0x4c37('b9','S&Qd')+$[_0x4c37('ce','Drrz')]['hasGotNum']+'次');$[_0x4c37('cf','1d]i')]=[];let _0x23c756=Number($[_0x4c37('d0',')tsH')][_0x4c37('d1','7S80')])-Number($['oneTask'][_0x4c37('d2',')Vfw')]);for(let _0x5b4d6a=0x0;_0x1bff90['OqMMH'](_0x5b4d6a,_0x23c756);_0x5b4d6a++){console[_0x4c37('d3','LdY1')]('任务：'+$['oneTask']['missionName']+_0x4c37('d4','2t5A'));await $[_0x4c37('d5','@Oky')](0x3a98);await _0x1bff90[_0x4c37('d6','PBCa')](takePostRequest,_0x1bff90['Bjbac'],_0x4c37('d7','y1Nd')+$[_0x4c37('9e','&3we')]['type']+_0x4c37('d8','1R8P')+buyerNick+'\x22}');}}else{console[_0x4c37('d9','aZSY')](data);$[_0x4c37('da','zmj%')](e,resp);}}if($['oneTask']['type']==='addCarCommodity'){await $[_0x4c37('db','D872')](0x7d0);console[_0x4c37('dc','jkCO')](_0x4c37('dd','21$H')+$[_0x4c37('de','[^xC')]['missionName']+_0x4c37('df','1SCO')+$[_0x4c37('e0','x0Pr')][_0x4c37('e1','7k^T')]+_0x4c37('e2','2j6o')+$['oneTask'][_0x4c37('e3',']ERO')]+'次');$[_0x4c37('e4','D872')]=[];let _0x25b59a=[_0x1bff90[_0x4c37('e5','BDT7')],'100025600224',_0x4c37('e6','D872'),_0x1bff90['SiuBn']];for(let _0x5b4d6a=0x0;_0x5b4d6a<_0x25b59a[_0x4c37('e7','NPNd')];_0x5b4d6a++){console[_0x4c37('e8',')tsH')](_0x4c37('e9',')Vfw')+$['oneTask'][_0x4c37('ea','y1Nd')]+_0x4c37('eb','2j6o')+_0x25b59a[_0x5b4d6a]);await _0x1bff90[_0x4c37('d6','PBCa')](takePostRequest,_0x1bff90['Bjbac'],_0x4c37('ec','^[kj')+$[_0x4c37('ed','4F4O')][_0x4c37('ee','D872')]+'\x22,\x22goodsNumId\x22:\x22'+_0x25b59a[_0x5b4d6a]+'\x22,\x22method\x22:\x22/weiruan/complete/mission\x22,\x22buyerNick\x22:\x22'+buyerNick+'\x22}');await $[_0x4c37('ef','(wVk')](0x7d0);}}if(_0x1bff90[_0x4c37('f0','2j6o')]($[_0x4c37('f1','PBCa')]['type'],_0x1bff90['GSCvT'])){if(_0x4c37('f2',')tsH')===_0x1bff90[_0x4c37('f3','LdY1')]){console[_0x4c37('f4','PBCa')]('任务：'+$['oneTask'][_0x4c37('cc','vS9p')]+',需要完成'+$[_0x4c37('f5','^[kj')][_0x4c37('f6','Q[h7')]+'次，已完成'+$[_0x4c37('f7','5!xY')]['hasGotNum']+'次');$['subList']=[];let _0x499d8e=_0x1bff90[_0x4c37('f8',']UFm')](Number,$[_0x4c37('f9','$Snb')][_0x4c37('fa',']UFm')])-_0x1bff90[_0x4c37('fb','^[kj')](Number,$[_0x4c37('f9','$Snb')][_0x4c37('fc','7k^T')]);for(let _0x5b4d6a=0x0;_0x1bff90[_0x4c37('fd','jkCO')](_0x5b4d6a,_0x499d8e);_0x5b4d6a++){console[_0x4c37('fe','1R8P')]('任务：'+$[_0x4c37('ff','U6BC')]['missionName']+_0x4c37('100',')tsH'));await $[_0x4c37('101','&r*E')](0x3a98);await _0x1bff90[_0x4c37('102','q)WG')](takePostRequest,_0x1bff90[_0x4c37('103','vS9p')],_0x4c37('c4','4F4O')+$[_0x4c37('104','Eq!#')][_0x4c37('105','Drrz')]+'\x22,\x22goodsNumId\x22:1000000326,\x22method\x22:\x22/weiruan/complete/mission\x22,\x22buyerNick\x22:\x22'+buyerNick+'\x22}');}}else{resolve(data[_0x1bff90[_0x4c37('106','(wVk')]]||'');}}if($['oneTask'][_0x4c37('107','vS9p')]===_0x1bff90[_0x4c37('108',']ERO')]){let _0x4fe3a6=_0x1bff90[_0x4c37('109','zpTd')](_0x1bff90[_0x4c37('10a','n0yN')](Number,$[_0x4c37('10b','21$H')]['dayTop']),_0x1bff90['HkWUU'](Number,$['oneTask'][_0x4c37('10c',')tsH')]));shareList['push']({'inviterNick':buyerNick,'user':userName,'needTime':_0x4fe3a6});}}}function takePostRequest(_0x1ae01d,_0x126974){var _0x3fb478={'BeNWd':function(_0x597d9d,_0x5c9b7d){return _0x597d9d+_0x5c9b7d;},'cIKkC':function(_0x5e68b8,_0x503581,_0x582686){return _0x5e68b8(_0x503581,_0x582686);},'SiosN':function(_0x78d71f,_0x46b696){return _0x78d71f!==_0x46b696;},'VaIQX':_0x4c37('10d','Hv(v'),'pmslF':_0x4c37('10e','@Oky'),'mTYYN':'好友今日助力已达上限，明日再来帮TA助力吧~','EMLkL':_0x4c37('10f','1d]i'),'cLHGx':_0x4c37('110','$Snb'),'XuRro':'jfslx'};let _0x1b740f=_0x4c37('111','5!xY')+_0x1ae01d+_0x4c37('112','aZSY')+buyerNick;let _0x538c51=_0x4c37('113','D872')+Date[_0x4c37('114','&*[T')]()+_0x4c37('115','[^xC')+_0x126974+'}}';let _0x178c48=_0x3fb478['cIKkC'](getPostRequest,_0x1b740f,_0x538c51);return new Promise(async _0x14d485=>{if(_0x3fb478[_0x4c37('116','PBCa')]!==_0x3fb478[_0x4c37('117','Q[h7')]){$['post'](_0x178c48,(_0x2fc6b6,_0x50c752,_0x44d6e4)=>{var _0x31708e={'xYGTj':function(_0x35c979,_0x4a899c){return _0x3fb478[_0x4c37('118','Q[h7')](_0x35c979,_0x4a899c);}};try{_0x3fb478['cIKkC'](dealReturn,_0x1ae01d,_0x44d6e4);}catch(_0x5b4ed1){if(_0x3fb478[_0x4c37('119','zmj%')](_0x3fb478['VaIQX'],_0x3fb478[_0x4c37('11a',']ERO')])){console[_0x4c37('11b','f]MT')](_0x44d6e4);$[_0x4c37('11c','21$H')](_0x5b4ed1,_0x50c752);}else{beanNumber=_0x31708e[_0x4c37('11d','7S80')](beanNumber,0x5);}}finally{_0x14d485();}});}else{console[_0x4c37('11e','n0yN')](data[_0x4c37('11f','&r*E')][_0x4c37('120','@Oky')]['remark']);if(data[_0x4c37('121','zmj%')]['data']['remark']===_0x3fb478[_0x4c37('122','&r*E')]){$['oneShare'][_0x4c37('123','U6BC')]=0x0;}if(data['data'][_0x4c37('124','&*[T')][_0x4c37('125','$Snb')]===_0x3fb478[_0x4c37('126','x0Pr')]){$[_0x4c37('127','aZSY')]=![];}}});}function dealReturn(_0x31e233,_0x3f5b69){var _0x565aee={'DhWQN':function(_0x1a9523,_0x9f8e94){return _0x1a9523+_0x9f8e94;},'OhxcS':function(_0x420711,_0x4e9bdc){return _0x420711(_0x4e9bdc);},'sxMGq':function(_0x31437b,_0x400dee){return _0x31437b===_0x400dee;},'ummvY':'SQTVC','WBzxa':_0x4c37('128','Eq!#'),'VGqkZ':_0x4c37('129','Q[h7'),'keVXa':function(_0x3c8c1e,_0x214d4c){return _0x3c8c1e!==_0x214d4c;},'NjFkP':'mission/complete/state','flWRL':function(_0x2ef63a,_0x36cff3){return _0x2ef63a===_0x36cff3;},'XkxLN':_0x4c37('12a','4F4O'),'bWGuV':_0x4c37('12b','BDT7'),'HCVnq':function(_0x2c70a9,_0x4e5689){return _0x2c70a9===_0x4e5689;},'NAinN':function(_0x1e5f10,_0x420a14){return _0x1e5f10===_0x420a14;},'lFxQD':function(_0x49a0ee,_0x2679f1){return _0x49a0ee===_0x2679f1;},'cKSMZ':_0x4c37('12c','n0yN'),'ROegW':_0x4c37('12d','q)WG'),'ClYed':function(_0x286887,_0x157149){return _0x286887===_0x157149;},'hHtia':function(_0xb5b69e,_0x191add){return _0xb5b69e===_0x191add;},'VtOeq':'getBeans','nIbef':_0x4c37('12e','r$AD'),'hwPNA':'myAwards'};try{if(_0x565aee[_0x4c37('12f','r$AD')](_0x565aee[_0x4c37('130','vS9p')],_0x565aee[_0x4c37('131','pi@q')])){_0x3f5b69=JSON[_0x4c37('132','r$AD')](_0x3f5b69);}else{console[_0x4c37('3d','q)WG')](''+JSON[_0x4c37('133','BDT7')](err));console[_0x4c37('134','Drrz')]($['name']+_0x4c37('135','7k^T'));}}catch(_0x3ed9bf){console['log'](_0x4c37('136','BY4z'));console['log'](_0x3f5b69);}switch(_0x31e233){case _0x565aee[_0x4c37('137','(wVk')]:if(_0x3f5b69[_0x4c37('138','kBU*')]&&_0x3f5b69['errorCode']===_0x565aee[_0x4c37('139','jkCO')]){if(_0x565aee[_0x4c37('13a','LdY1')]('zcFpi',_0x4c37('13b','21$H'))){console[_0x4c37('13c','7k^T')]('获取token失败');return;}else{activityData=_0x3f5b69[_0x4c37('13d','21$H')]['data'];}}break;case _0x565aee[_0x4c37('13e','aZSY')]:if(_0x3f5b69[_0x4c37('13f','c49B')]&&_0x565aee[_0x4c37('140','zpTd')](_0x3f5b69['errorCode'],_0x565aee[_0x4c37('141','zpTd')])){if(_0x565aee[_0x4c37('142','Q[h7')](_0x565aee[_0x4c37('143','Eq!#')],_0x565aee[_0x4c37('144','21$H')])){console[_0x4c37('134','Drrz')](_0x4c37('145','NPNd'));console[_0x4c37('dc','jkCO')](_0x3f5b69);}else{taskList=_0x3f5b69[_0x4c37('146','2t5A')]['data'];}}break;case _0x565aee[_0x4c37('147','1d]i')]:if(_0x3f5b69[_0x4c37('148','Hv(v')]&&_0x565aee[_0x4c37('149','@Oky')](_0x3f5b69['errorCode'],_0x565aee[_0x4c37('14a','r$AD')])&&_0x565aee[_0x4c37('14b','&r*E')](_0x3f5b69['data'][_0x4c37('14c','@Oky')],0xc8)){console[_0x4c37('14d','&r*E')](_0x3f5b69['data'][_0x4c37('14e','[^xC')][_0x4c37('14f','aZSY')]);if(_0x565aee[_0x4c37('150',']UFm')](_0x3f5b69[_0x4c37('151','1d]i')][_0x4c37('9','LdY1')][_0x4c37('152','D872')],_0x565aee[_0x4c37('153','r$AD')])){$[_0x4c37('154',']ERO')][_0x4c37('155','&*[T')]=0x0;}if(_0x3f5b69[_0x4c37('156','x0Pr')][_0x4c37('157','^[kj')]['remark']===_0x565aee['ROegW']){$[_0x4c37('158','&r*E')]=![];}}else{if(_0x3f5b69['success']&&_0x565aee[_0x4c37('159','$Snb')](_0x3f5b69['errorCode'],_0x565aee['VGqkZ'])&&_0x565aee[_0x4c37('15a',']ERO')](_0x3f5b69[_0x4c37('15b','Hv(v')]['status'],0x1f4)){$[_0x4c37('15c','Drrz')]=![];}console[_0x4c37('15d',']UFm')](JSON['stringify'](_0x3f5b69));}break;case _0x4c37('15e','x0Pr'):case _0x565aee[_0x4c37('15f','&r*E')]:if(_0x3f5b69[_0x4c37('160','&3we')]&&_0x3f5b69[_0x4c37('161','BY4z')]===_0x565aee['VGqkZ']&&_0x565aee['hHtia'](_0x3f5b69[_0x4c37('162',')tsH')]['status'],0xc8)){let _0x546eac=_0x3f5b69[_0x4c37('124','&*[T')]['data'];if(_0x546eac['awardSendLog']&&_0x546eac[_0x4c37('38','vS9p')][_0x4c37('163','4F4O')]){console[_0x4c37('fe','1R8P')]('获得：'+_0x546eac[_0x4c37('164','zmj%')][_0x4c37('165','$Snb')]);}else{if(_0x565aee['hHtia'](_0x565aee[_0x4c37('166','(wVk')],_0x4c37('167','%L(6'))){beanNumber=_0x565aee['DhWQN'](beanNumber,_0x565aee[_0x4c37('168','vS9p')](Number,awardList[i][_0x4c37('169','4F4O')]));}else{console['log'](_0x4c37('16a','%L(6'));}}}console['log'](JSON[_0x4c37('16b',']UFm')](_0x3f5b69));break;case _0x565aee[_0x4c37('16c','LdY1')]:if(_0x3f5b69[_0x4c37('16d','7k^T')]&&_0x3f5b69[_0x4c37('16e','D872')]===_0x4c37('16f','NPNd')&&_0x3f5b69['data'][_0x4c37('170',')Vfw')]===0xc8){$['myAwardsInfo']=_0x3f5b69['data'][_0x4c37('171','2j6o')];}break;default:console[_0x4c37('11e','n0yN')]('错误'+_0x31e233);}}function getPostRequest(_0xb9deea,_0x30e3c3){var _0x260883={'FLaYx':function(_0x45437d,_0x5e7a38){return _0x45437d(_0x5e7a38);},'sxOwj':_0x4c37('172','5!xY'),'jtaMB':_0x4c37('173','U6BC'),'VfYpM':_0x4c37('174','1R8P')};const _0x60b9b9={'X-Requested-With':_0x4c37('175','Drrz'),'Connection':_0x4c37('176','@Oky'),'Accept-Encoding':_0x4c37('177','zmj%'),'Content-Type':_0x4c37('178','D872'),'Origin':_0x4c37('179','D872'),'User-Agent':$[_0x4c37('17a','jkCO')]()?process[_0x4c37('17b','5!xY')]['JD_USER_AGENT']?process[_0x4c37('17c','c49B')][_0x4c37('17d','NPNd')]:_0x260883[_0x4c37('17e','1R8P')](require,_0x260883['sxOwj'])['USER_AGENT']:$[_0x4c37('17f','zpTd')](_0x4c37('180','aZSY'))?$[_0x4c37('181','&3we')](_0x260883[_0x4c37('182','y1Nd')]):_0x260883['VfYpM'],'Cookie':cookie,'Host':_0x4c37('183',']UFm'),'Referer':'https://mpdz-honour-dz.isvjcloud.com/micro/','Accept-Language':_0x4c37('184','^[kj'),'Accept':_0x4c37('185','LdY1')};return{'url':_0xb9deea,'headers':_0x60b9b9,'body':_0x30e3c3};}function getToken(){var _0x51c7bd={'EYcJf':function(_0xdc0744){return _0xdc0744();},'RmxyD':function(_0x3a16c0,_0x101e71){return _0x3a16c0!==_0x101e71;},'qZDig':_0x4c37('186',']ERO'),'cWRFa':function(_0x5a2b4f,_0x282bbc){return _0x5a2b4f===_0x282bbc;},'hfZvV':'jylMj','SOonG':_0x4c37('187','y1Nd'),'XatxX':function(_0x48d358,_0x11f9eb){return _0x48d358===_0x11f9eb;},'YsEGg':_0x4c37('188','D872'),'yoHSo':_0x4c37('189','1SCO'),'bHFRY':'area=2_2841_61104_0&body=%7B%22url%22%3A%22https%3A%5C/%5C/mpdz-honour-dz.isvjcloud.com%5C/micro%5C/?lng%3D121.393217%26lat%3D31.222852%26sid%3Daf5a66c169d23e5a6942251fe2d1da9w%26un_area%3D2_2841_61104_0%23%5C/pages%5C/Weiruan20211010%5C/Weiruan20211010?bizExtString%3Dc2hhcmVOaWNrOjk5JTJCNjFtVkdkdFdTJTJCYWFqVE4lMkJIVlY0dExOWUE0c2V1QTY3TU9JWVF4RWszVmw5JTJCQVZvNE5GJTJCdGd5ZUljNkE2a2RLM3JMQlFwRVFIOVY0dGRycmgwdyUzRCUzRCZpbnZpdGVBdmF0YXI6aHR0cCUzQSUyRiUyRnN0b3JhZ2UuMzYwYnV5aW1nLmNvbSUyRmkuaW1hZ2VVcGxvYWQlMkYzMTM4MzMzMDMyMzEzMjMyMzMyZDMyMzUzMTM2MzYzNjMxMzYzMjM1MzgzOTM3MzkzODMyMzEzMDMyX21pZC5qcGcmaW52aXRlTmlja25hbWU66buR5aSc5LiL55qE5b2p6Jm5%22%2C%22id%22%3A%22%22%7D&build=167841&client=apple&clientVersion=10.1.6&d_brand=apple&d_model=iPhone9%2C2&eid=eidI42470115RDhDRjM1NjktODdGQi00RQ%3D%3DB3mSBu%2BcGp7WhKUUyye8/kqi1lxzA3Dv6a89ttwC7YFdT6JFByyAtAfO0TOmN9G2os20ud7RosfkMq80&ext=%7B%22prstate%22%3A%220%22%7D&isBackground=N&joycious=88&lang=zh_CN&networkType=wifi&networklibtype=JDNetworkBaseAF&openudid=5a8a5743a5d2a4110a8ed396bb047471ea120c6a&osVersion=14.6&partner=apple&rfs=0000&scope=01&screen=1242%2A2208&sign=59d7a7d49cdc79f87aa3e9a8896db574&st=1634001989175&sv=100','caYTo':_0x4c37('18a','jkCO'),'jMtKg':_0x4c37('18b','1SCO'),'oBPjr':_0x4c37('18c','aZSY'),'iruuB':'application/x-www-form-urlencoded'};let _0x564f22={'url':_0x51c7bd[_0x4c37('18d',')Vfw')],'body':_0x51c7bd[_0x4c37('18e','1R8P')],'headers':{'Host':_0x51c7bd[_0x4c37('18f','c49B')],'accept':'*/*','user-agent':_0x51c7bd['jMtKg'],'accept-language':_0x51c7bd['oBPjr'],'content-type':_0x51c7bd[_0x4c37('190','NPNd')],'Cookie':cookie}};return new Promise(_0x5a0e34=>{var _0x4d2b3d={'lsITX':function(_0x9a43f8){return _0x51c7bd['EYcJf'](_0x9a43f8);},'rspPA':function(_0xc1174c,_0x1a929c){return _0x51c7bd[_0x4c37('191',']UFm')](_0xc1174c,_0x1a929c);},'KnvqW':'bJZdC','LoUdn':function(_0x451d82,_0x3ca122){return _0x451d82!==_0x3ca122;},'kHvIS':_0x51c7bd[_0x4c37('192','2j6o')],'ZZFtQ':function(_0x1f6115,_0x212ceb){return _0x51c7bd['cWRFa'](_0x1f6115,_0x212ceb);},'XaIFO':_0x51c7bd[_0x4c37('193','Q[h7')],'wXMrE':function(_0x11f13c,_0x28dde6){return _0x11f13c(_0x28dde6);},'QTMIj':_0x51c7bd[_0x4c37('194','Drrz')]};if(_0x51c7bd['XatxX'](_0x51c7bd[_0x4c37('195','S&Qd')],_0x51c7bd[_0x4c37('196','kBU*')])){$[_0x4c37('197','x0Pr')](_0x564f22,async(_0x4038cd,_0xdc8123,_0x10497d)=>{try{if(_0x4d2b3d['rspPA'](_0x4d2b3d[_0x4c37('198','NPNd')],_0x4d2b3d[_0x4c37('199','4F4O')])){_0x4d2b3d[_0x4c37('19a','NPNd')](_0x5a0e34);}else{if(_0x4038cd){console[_0x4c37('19b','pi@q')](''+JSON[_0x4c37('19c','NPNd')](_0x4038cd));console[_0x4c37('a0','kBU*')]($[_0x4c37('19d','$Snb')]+_0x4c37('19e',']ERO'));}else{if(_0x4d2b3d['LoUdn'](_0x4d2b3d[_0x4c37('19f','r$AD')],_0x4c37('1a0','BY4z'))){if(_0x4038cd){console['log'](''+JSON[_0x4c37('1a1','y1Nd')](_0x4038cd));console[_0x4c37('1a2','7S80')]($['name']+_0x4c37('1a3','vS9p'));}else{_0x10497d=JSON['parse'](_0x10497d);}}else{_0x10497d=JSON[_0x4c37('1a4','BDT7')](_0x10497d);}}}}catch(_0x1472d6){if(_0x4d2b3d[_0x4c37('1a5','c49B')](_0x4d2b3d[_0x4c37('1a6','q)WG')],_0x4d2b3d['XaIFO'])){$[_0x4c37('1a7','$Snb')](_0x1472d6,_0xdc8123);}else{activityData=_0x10497d[_0x4c37('15b','Hv(v')][_0x4c37('1a8','y1Nd')];}}finally{_0x4d2b3d['wXMrE'](_0x5a0e34,_0x10497d[_0x4d2b3d['QTMIj']]||'');}});}else{data=JSON['parse'](data);}});};_0xod5='jsjiami.com.v6';
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
